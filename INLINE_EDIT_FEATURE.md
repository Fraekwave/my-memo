# âœï¸ ì¸ë¼ì¸ í¸ì§‘ (Inline Edit) ê¸°ëŠ¥ ê°€ì´ë“œ

**ë‚ ì§œ**: 2026-02-04  
**ëª©ì **: ë¯¸ë‹ˆë©€í•œ ë””ìì¸ìœ¼ë¡œ Task í…ìŠ¤íŠ¸ ìˆ˜ì • ê¸°ëŠ¥ ì¶”ê°€

---

## ğŸ¯ ê¸°ëŠ¥ ê°œìš”

ì‚¬ìš©ìê°€ Task í…ìŠ¤íŠ¸ë¥¼ í´ë¦­ í•œ ë²ˆìœ¼ë¡œ ì¦‰ì‹œ ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” **ì¸ë¼ì¸ í¸ì§‘ (Inline Editing)** íŒ¨í„´ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

### íŠ¹ì§•
- âœï¸ **ë¯¸ë‹ˆë©€í•œ Pencil ì•„ì´ì½˜** - ì‘ê³  ì‹¬í”Œí•œ ë””ìì¸
- âš¡ **ì¦‰ê°ì ì¸ ë°˜ì‘** - Optimistic UI íŒ¨í„´ ì ìš©
- âŒ¨ï¸ **ì§ê´€ì ì¸ í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤** - Enter ì €ì¥, Esc ì·¨ì†Œ
- ğŸ¨ **ìœ„í™”ê° ì—†ëŠ” UI** - í…Œë‘ë¦¬ ì—†ëŠ” ì…ë ¥ì°½ìœ¼ë¡œ ìì—°ìŠ¤ëŸ¬ìš´ ì „í™˜

---

## ğŸ¨ UI/UX ë””ìì¸

### 1. **Pencil ì•„ì´ì½˜ (ìˆ˜ì • ë²„íŠ¼)**

```typescript
// í‰ì†Œ: íë¦¿í•œ íšŒìƒ‰ (gray-400) - ì‹œì„  ë°©í•´ ìµœì†Œí™”
// Hover: ì§„í•œ íšŒìƒ‰ (gray-600) - ìƒí˜¸ì‘ìš© ê°€ëŠ¥í•¨ì„ í‘œì‹œ

<button className="text-zinc-400 hover:text-zinc-600 transition-colors">
  <Pencil className="w-4 h-4" />
</button>
```

**ìœ„ì¹˜:**
- ì²´í¬ë°•ìŠ¤ì™€ í…ìŠ¤íŠ¸ ì‚¬ì´
- ì‚­ì œ ë²„íŠ¼(X) ì™¼ìª½

**í¬ê¸°:**
- 4x4 (16px Ã— 16px) - ì‘ê³  ì‹¬í”Œ

### 2. **ì¸ë¼ì¸ ì…ë ¥ì°½**

**í‰ìƒ ì‹œ:**
```tsx
<span className="text-zinc-900">í•  ì¼ í…ìŠ¤íŠ¸</span>
```

**í¸ì§‘ ëª¨ë“œ:**
```tsx
<input
  className="w-full px-2 py-1 bg-white border border-zinc-300 rounded-lg"
  autoFocus
/>
```

**ë””ìì¸ íŠ¹ì§•:**
- ì–‡ì€ í…Œë‘ë¦¬ (border-zinc-300)
- í¬ì»¤ìŠ¤ ì‹œ ì§„í•œ í…Œë‘ë¦¬ (focus:border-zinc-900)
- ìë™ í¬ì»¤ìŠ¤ + ì „ì²´ í…ìŠ¤íŠ¸ ì„ íƒ

---

## âŒ¨ï¸ í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤

| í‚¤ | ë™ì‘ | ì„¤ëª… |
|---|---|---|
| **Enter** | ì €ì¥ | ìˆ˜ì • ë‚´ìš©ì„ ì €ì¥í•˜ê³  í¸ì§‘ ëª¨ë“œ ì¢…ë£Œ |
| **Esc** | ì·¨ì†Œ | ë³€ê²½ ì‚¬í•­ì„ ë²„ë¦¬ê³  ì›ë˜ í…ìŠ¤íŠ¸ë¡œ ë³µì› |
| **Blur** (í¬ì»¤ìŠ¤ í•´ì œ) | ì €ì¥ | ì…ë ¥ì°½ ë°–ì„ í´ë¦­í•˜ë©´ ìë™ ì €ì¥ |

---

## ğŸ”§ êµ¬í˜„ ìƒì„¸

### 1. **useTasks.ts - updateTask í•¨ìˆ˜ ì¶”ê°€**

```typescript
/**
 * 4. Update: Task í…ìŠ¤íŠ¸ ìˆ˜ì •
 * 
 * âœ¨ Optimistic UI:
 * - ì¦‰ì‹œ ë¡œì»¬ ìƒíƒœ ë³€ê²½ (ì¸ë¼ì¸ í¸ì§‘ ì¦‰ê° ë°˜ì‘)
 * - ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì„œë²„ ë™ê¸°í™”
 * - ì‹¤íŒ¨ ì‹œ ì´ì „ í…ìŠ¤íŠ¸ë¡œ ë¡¤ë°±
 */
const updateTask = async (id: number, newText: string) => {
  if (!newText.trim()) return;

  // 1ï¸âƒ£ ë¡¤ë°±ì„ ìœ„í•´ ì´ì „ ìƒíƒœ ë°±ì—…
  const previousTasks = tasks;

  // 2ï¸âƒ£ ì¦‰ì‹œ UI ì—…ë°ì´íŠ¸ (Optimistic Update)
  setTasks((prev) =>
    prev.map((task) =>
      task.id === id ? { ...task, text: newText.trim() } : task
    )
  );

  try {
    // 3ï¸âƒ£ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì„œë²„ ë™ê¸°í™”
    const { error } = await supabase
      .from('mytask')
      .update({ text: newText.trim() })
      .eq('id', id);

    if (error) throw error;
  } catch (err) {
    // 4ï¸âƒ£ ì‹¤íŒ¨ ì‹œ: ì´ì „ ìƒíƒœë¡œ ë¡¤ë°±
    setTasks(previousTasks);
    alert('âš ï¸ ì„œë²„ ì—°ê²° ì‹¤íŒ¨. ë³€ê²½ì‚¬í•­ì´ ì €ì¥ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
  }
};
```

---

### 2. **TaskItem.tsx - ì¸ë¼ì¸ í¸ì§‘ UI**

#### ìƒíƒœ ê´€ë¦¬

```typescript
const [isEditing, setIsEditing] = useState(false);
const [editText, setEditText] = useState(task.text);
const inputRef = useRef<HTMLInputElement>(null);
```

#### ìë™ í¬ì»¤ìŠ¤

```typescript
useEffect(() => {
  if (isEditing && inputRef.current) {
    inputRef.current.focus();
    inputRef.current.select(); // ì „ì²´ í…ìŠ¤íŠ¸ ì„ íƒ
  }
}, [isEditing]);
```

#### í¸ì§‘ ëª¨ë“œ ì§„ì…

```typescript
const startEditing = () => {
  setEditText(task.text);
  setIsEditing(true);
};
```

#### í¸ì§‘ ì €ì¥

```typescript
const saveEdit = () => {
  const trimmedText = editText.trim();
  if (trimmedText && trimmedText !== task.text) {
    onUpdate(task.id, trimmedText);
  }
  setIsEditing(false);
};
```

#### í¸ì§‘ ì·¨ì†Œ

```typescript
const cancelEdit = () => {
  setEditText(task.text);
  setIsEditing(false);
};
```

#### í‚¤ë³´ë“œ ì´ë²¤íŠ¸

```typescript
const handleKeyDown = (e: KeyboardEvent<HTMLInputElement>) => {
  if (e.key === 'Enter') {
    e.preventDefault();
    saveEdit();
  } else if (e.key === 'Escape') {
    e.preventDefault();
    cancelEdit();
  }
};
```

---

### 3. **ì¡°ê±´ë¶€ ë Œë”ë§**

```tsx
{isEditing ? (
  // í¸ì§‘ ëª¨ë“œ: ì…ë ¥ì°½ í‘œì‹œ
  <input
    ref={inputRef}
    type="text"
    value={editText}
    onChange={(e) => setEditText(e.target.value)}
    onBlur={saveEdit}
    onKeyDown={handleKeyDown}
    className="w-full px-2 py-1 bg-white border border-zinc-300 rounded-lg..."
  />
) : (
  // ì¼ë°˜ ëª¨ë“œ: í…ìŠ¤íŠ¸ í‘œì‹œ
  <span className={`text-zinc-900 ${task.is_completed ? 'completed' : ''}`}>
    {task.text}
  </span>
)}
```

---

### 4. **í¸ì§‘ ì¤‘ ì œí•œì‚¬í•­**

```tsx
{!isEditing && (
  <>
    {/* Pencil ì•„ì´ì½˜ */}
    <button onClick={startEditing}>
      <Pencil className="w-4 h-4" />
    </button>

    {/* ì‚­ì œ ë²„íŠ¼ */}
    <button onClick={() => onDelete(task.id)}>
      <X className="w-5 h-5" />
    </button>
  </>
)}
```

**ì²´í¬ë°•ìŠ¤ ë¹„í™œì„±í™”:**
```tsx
<input
  type="checkbox"
  disabled={isEditing} // í¸ì§‘ ì¤‘ì—ëŠ” ì²´í¬ë°•ìŠ¤ ë¹„í™œì„±í™”
/>
```

---

## ğŸ“¦ ìƒˆë¡œìš´ ì˜ì¡´ì„±

### lucide-react ì„¤ì¹˜

```bash
npm install lucide-react
```

**ì‚¬ìš©í•œ ì•„ì´ì½˜:**
- `Pencil` - ìˆ˜ì • ë²„íŠ¼
- `X` - ì‚­ì œ ë²„íŠ¼ (ê¸°ì¡´ SVGì—ì„œ êµì²´)

**ì¥ì :**
- ğŸ¨ ì¼ê´€ëœ ì•„ì´ì½˜ ìŠ¤íƒ€ì¼
- ğŸ“¦ Tree-shaking ì§€ì› (ì‚¬ìš©í•œ ì•„ì´ì½˜ë§Œ ë²ˆë“¤ë§)
- âš¡ ê°€ë²¼ìš´ ë²ˆë“¤ í¬ê¸°

---

## ğŸ¬ ì‚¬ìš©ì í”Œë¡œìš°

### ì‹œë‚˜ë¦¬ì˜¤ 1: ì •ìƒ ìˆ˜ì •

1. ì‚¬ìš©ìê°€ Pencil ì•„ì´ì½˜ í´ë¦­
2. í…ìŠ¤íŠ¸ê°€ ì…ë ¥ì°½ìœ¼ë¡œ ë³€ê²½ (ìë™ í¬ì»¤ìŠ¤)
3. ì‚¬ìš©ìê°€ í…ìŠ¤íŠ¸ ìˆ˜ì •
4. Enter í‚¤ ëˆ„ë¦„ ë˜ëŠ” ì…ë ¥ì°½ ë°– í´ë¦­
5. **ì¦‰ì‹œ UIì— ë°˜ì˜** (Optimistic Update)
6. ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì„œë²„ ë™ê¸°í™”
7. ì„±ê³µ ì‹œ í¸ì§‘ ëª¨ë“œ ì¢…ë£Œ

### ì‹œë‚˜ë¦¬ì˜¤ 2: ì·¨ì†Œ

1. ì‚¬ìš©ìê°€ Pencil ì•„ì´ì½˜ í´ë¦­
2. í…ìŠ¤íŠ¸ ìˆ˜ì • ì‹œì‘
3. **Esc í‚¤ ëˆ„ë¦„**
4. ë³€ê²½ì‚¬í•­ ë²„ë¦¼ + ì›ë˜ í…ìŠ¤íŠ¸ë¡œ ë³µì›
5. í¸ì§‘ ëª¨ë“œ ì¢…ë£Œ

### ì‹œë‚˜ë¦¬ì˜¤ 3: ì„œë²„ ì‹¤íŒ¨

1. ì‚¬ìš©ìê°€ í…ìŠ¤íŠ¸ ìˆ˜ì • í›„ Enter
2. ì¦‰ì‹œ UIì— ë°˜ì˜
3. ì„œë²„ ìš”ì²­ ì‹¤íŒ¨ (ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬)
4. **ìë™ ë¡¤ë°±** (ì´ì „ í…ìŠ¤íŠ¸ë¡œ ë³µì›)
5. ì•Œë¦¼ ë©”ì‹œì§€ í‘œì‹œ: "âš ï¸ ì„œë²„ ì—°ê²° ì‹¤íŒ¨"

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### 1. **ì •ìƒ ë™ì‘ í…ŒìŠ¤íŠ¸**

```
âœ… Pencil ì•„ì´ì½˜ í´ë¦­ â†’ ì…ë ¥ì°½ìœ¼ë¡œ ì „í™˜
âœ… ì…ë ¥ì°½ ìë™ í¬ì»¤ìŠ¤ + ì „ì²´ í…ìŠ¤íŠ¸ ì„ íƒ
âœ… Enter í‚¤ â†’ ì €ì¥ + í¸ì§‘ ëª¨ë“œ ì¢…ë£Œ
âœ… Esc í‚¤ â†’ ì·¨ì†Œ + ì›ë˜ í…ìŠ¤íŠ¸ ë³µì›
âœ… Blur (í¬ì»¤ìŠ¤ í•´ì œ) â†’ ì €ì¥
```

### 2. **Edge Case í…ŒìŠ¤íŠ¸**

```
âœ… ë¹ˆ í…ìŠ¤íŠ¸ ì…ë ¥ â†’ ì €ì¥ë˜ì§€ ì•ŠìŒ (ìœ íš¨ì„± ê²€ì‚¬)
âœ… ê³µë°±ë§Œ ì…ë ¥ â†’ trim() ì²˜ë¦¬
âœ… ë³€ê²½ì‚¬í•­ ì—†ì´ ì €ì¥ â†’ ë¶ˆí•„ìš”í•œ ì„œë²„ ìš”ì²­ ì—†ìŒ
âœ… í¸ì§‘ ì¤‘ ì²´í¬ë°•ìŠ¤ ë¹„í™œì„±í™”
```

### 3. **ë„¤íŠ¸ì›Œí¬ ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸**

```
1. Chrome DevTools â†’ Network â†’ Offline
2. Task í…ìŠ¤íŠ¸ ìˆ˜ì • í›„ Enter
3. ì¦‰ì‹œ UIì— ë°˜ì˜
4. ê³§ë°”ë¡œ ì›ë˜ í…ìŠ¤íŠ¸ë¡œ ë¡¤ë°±
5. ì•Œë¦¼ ë©”ì‹œì§€ í™•ì¸
```

---

## ğŸ¨ ë””ìì¸ ì‹œìŠ¤í…œ í†µì¼

### ìƒ‰ìƒ íŒ”ë ˆíŠ¸

| ìš”ì†Œ | ìƒ‰ìƒ | ìš©ë„ |
|---|---|---|
| Pencil ì•„ì´ì½˜ (ê¸°ë³¸) | `text-zinc-400` | ì‹œì„  ë°©í•´ ìµœì†Œí™” |
| Pencil ì•„ì´ì½˜ (hover) | `text-zinc-600` | ìƒí˜¸ì‘ìš© ê°€ëŠ¥ í‘œì‹œ |
| ì‚­ì œ ë²„íŠ¼ (ê¸°ë³¸) | `text-zinc-400` | ì¼ê´€ì„± ìœ ì§€ |
| ì‚­ì œ ë²„íŠ¼ (hover) | `text-red-500` | ìœ„í—˜ ë™ì‘ í‘œì‹œ |
| ì…ë ¥ì°½ í…Œë‘ë¦¬ | `border-zinc-300` | ë¶€ë“œëŸ¬ìš´ êµ¬ë¶„ |
| ì…ë ¥ì°½ í…Œë‘ë¦¬ (focus) | `border-zinc-900` | í™œì„± ìƒíƒœ ê°•ì¡° |

### ì•„ì´ì½˜ í¬ê¸°

```
âœï¸ Pencil: 16px Ã— 16px (w-4 h-4)
âŒ X: 20px Ã— 20px (w-5 h-5)
```

---

## ğŸ“Š ì„±ëŠ¥ ì˜í–¥

### ë²ˆë“¤ í¬ê¸° ì¦ê°€

```
lucide-react: ~7KB (gzipped)
```

### HMR ì„±ëŠ¥

```
8:06:40 PM [vite] âœ¨ new dependencies optimized: lucide-react
8:06:40 PM [vite] âœ¨ optimized dependencies changed. reloading
```

**ê²°ë¡ **: Viteê°€ ìë™ìœ¼ë¡œ ìµœì í™”í•˜ì—¬ ì„±ëŠ¥ ì˜í–¥ ë¯¸ë¯¸

---

## ğŸ”® í–¥í›„ ê°œì„  ì‚¬í•­

### Phase 2+ì—ì„œ ì¶”ê°€í•  ê¸°ëŠ¥

1. **Undo/Redo ì§€ì›**
   - `Ctrl+Z` / `Ctrl+Shift+Z`ë¡œ ìˆ˜ì • ë‚´ì—­ ê´€ë¦¬

2. **ë§ˆí¬ë‹¤ìš´ ì§€ì›**
   - ê°„ë‹¨í•œ ë§ˆí¬ë‹¤ìš´ ë¬¸ë²• (ë³¼ë“œ, ì´íƒ¤ë¦­)

3. **ë”ë¸”í´ë¦­ìœ¼ë¡œ í¸ì§‘ ì‹œì‘**
   - Pencil ì•„ì´ì½˜ ì™¸ì— í…ìŠ¤íŠ¸ ë”ë¸”í´ë¦­ìœ¼ë¡œë„ í¸ì§‘ ëª¨ë“œ ì§„ì…

4. **Textareaë¡œ ì—…ê·¸ë ˆì´ë“œ**
   - ê¸´ í…ìŠ¤íŠ¸ ì§€ì› (ë©€í‹°ë¼ì¸)

5. **ì‹¤ì‹œê°„ ìë™ ì €ì¥**
   - ì¼ì • ì‹œê°„(debounce) í›„ ìë™ ì €ì¥

---

## ğŸ“ ì½”ë“œ ë³€ê²½ ìš”ì•½

### ìˆ˜ì •ëœ íŒŒì¼

```
âœ… src/hooks/useTasks.ts
   - updateTask í•¨ìˆ˜ ì¶”ê°€ (Optimistic UI íŒ¨í„´)
   - return ë¬¸ì— updateTask ì¶”ê°€

âœ… src/components/TaskItem.tsx
   - ì¸ë¼ì¸ í¸ì§‘ ë¡œì§ ì¶”ê°€
   - useState, useRef, useEffect ì‚¬ìš©
   - lucide-react Pencil, X ì•„ì´ì½˜ ì ìš©

âœ… src/components/TaskList.tsx
   - onUpdate prop ì¶”ê°€
   - TaskItemì— onUpdate ì „ë‹¬

âœ… src/App.tsx
   - updateTask import ì¶”ê°€
   - TaskListì— onUpdate={updateTask} ì „ë‹¬

âœ… package.json (ìë™)
   - lucide-react ì˜ì¡´ì„± ì¶”ê°€
```

---

## ğŸ‰ ì™„ì„±ëœ ê¸°ëŠ¥

### Before (ê¸°ì¡´)
```
[âœ“] í•  ì¼ í…ìŠ¤íŠ¸ [âŒ]
```

### After (ê°œì„ )
```
[âœ“] í•  ì¼ í…ìŠ¤íŠ¸ [âœï¸] [âŒ]
       â†“ í´ë¦­
[âœ“] [ì…ë ¥ì°½________] (Enter ì €ì¥, Esc ì·¨ì†Œ)
```

**ì£¼ìš” ê°œì„ ì :**
- âœ… ë¯¸ë‹ˆë©€í•œ Pencil ì•„ì´ì½˜ ì¶”ê°€
- âœ… ì¸ë¼ì¸ í¸ì§‘ìœ¼ë¡œ UX ê°œì„ 
- âœ… í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ ì§€ì›
- âœ… Optimistic UIë¡œ ì¦‰ê°ì ì¸ ë°˜ì‘
- âœ… ì‹¤íŒ¨ ì‹œ ìë™ ë¡¤ë°±

---

## ğŸš€ ì‹¤í–‰ ë° í…ŒìŠ¤íŠ¸

### ê°œë°œ ì„œë²„

```bash
npm run dev
```

ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:5173` ì ‘ì† í›„:

1. Task ì¶”ê°€
2. Pencil ì•„ì´ì½˜ í´ë¦­
3. í…ìŠ¤íŠ¸ ìˆ˜ì •
4. Enter í‚¤ë¡œ ì €ì¥ í™•ì¸
5. Esc í‚¤ë¡œ ì·¨ì†Œ í™•ì¸

---

**ì‘ì„±ì**: CTO & Senior Software Architect  
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2026-02-04

---

## ğŸ“¸ UI ìŠ¤í¬ë¦°ìƒ· ì„¤ëª…

### í‰ìƒ ì‹œ (Hover ì „)
```
[âœ“] ì˜¤ëŠ˜ì˜ í•  ì¼   ğŸ” âŒ
    (gray-400)      (ê±°ì˜ ì•ˆ ë³´ì„)
```

### Hover ìƒíƒœ
```
[âœ“] ì˜¤ëŠ˜ì˜ í•  ì¼   âœï¸ âŒ
    (gray-600)      (ì„ ëª…í•˜ê²Œ)
```

### í¸ì§‘ ëª¨ë“œ
```
[â¬œ] [ì˜¤ëŠ˜ì˜ í•  ì¼______|]
     (ì…ë ¥ì°½, í¬ì»¤ìŠ¤)
```

---

**ë¯¸ë‹ˆë©€ë¦¬ì¦˜ ì² í•™:**
> "ë³´ì´ì§€ ì•Šì•„ì•¼ í•  ë•ŒëŠ” ë³´ì´ì§€ ì•Šê³ ,  
> í•„ìš”í•  ë•Œë§Œ ìì—°ìŠ¤ëŸ½ê²Œ ë‚˜íƒ€ë‚˜ëŠ” ë””ìì¸"

ì´ ì›ì¹™ì„ ì§€í‚¤ë©° Pencil ì•„ì´ì½˜ì„ `gray-400`ìœ¼ë¡œ ì„¤ì •í•˜ì—¬  
í‰ì†Œì—ëŠ” ì‹œì„ ì„ ë°©í•´í•˜ì§€ ì•Šë„ë¡ í–ˆìŠµë‹ˆë‹¤. ğŸ¨
